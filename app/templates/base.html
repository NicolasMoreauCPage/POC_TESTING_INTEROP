<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>PAM POC</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { maxWidth: { 'content': '1100px' }}}}
  </script>
</head>
<body class="bg-slate-50 text-slate-800">
  <header class="bg-white border-b border-slate-200">
    <div class="mx-auto max-w-content px-4 py-4 flex items-center justify-between">
  <h1 class="text-xl font-semibold">MedData Bridge</h1>
      <!-- Responsive nav: desktop dropdowns, mobile hamburger -->
      <nav class="hidden md:flex gap-6 text-sm items-center">
        <a href="/" class="px-2 py-1 rounded hover:bg-slate-100 font-medium text-slate-700">Accueil</a>
        <!-- Données dropdown -->
        <div class="relative group">
          <button class="flex items-center gap-1 px-2 py-1 rounded hover:bg-slate-100 focus:outline-none">
            <span class="text-slate-700 font-medium">Données</span>
            <svg class="w-3 h-3 text-slate-500 group-hover:text-blue-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="absolute left-0 mt-2 w-40 bg-white border border-slate-200 rounded shadow-lg opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 pointer-events-none group-hover:pointer-events-auto group-focus-within:pointer-events-auto transition-opacity z-20">
            <a href="/patients" class="block px-4 py-2 hover:bg-blue-50">Patients</a>
            <a href="/dossiers" class="block px-4 py-2 hover:bg-blue-50">Dossiers</a>
            <a href="/venues" class="block px-4 py-2 hover:bg-blue-50">Venues</a>
            <a href="/mouvements" class="block px-4 py-2 hover:bg-blue-50">Mouvements</a>
          </div>
        </div>

        <!-- Opérations dropdown -->
        <div class="relative group">
          <button class="flex items-center gap-1 px-2 py-1 rounded hover:bg-slate-100 focus:outline-none">
            <span class="text-slate-700 font-medium">Opérations</span>
            <svg class="w-3 h-3 text-slate-500 group-hover:text-blue-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div class="absolute left-0 mt-2 w-52 bg-white border border-slate-200 rounded shadow-lg opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 pointer-events-none group-hover:pointer-events-auto group-focus-within:pointer-events-auto transition-opacity z-20">
            <a href="/endpoints" class="block px-4 py-2 hover:bg-blue-50">Systèmes</a>
            <a href="/messages" class="block px-4 py-2 hover:bg-blue-50">Messages</a>
            <a href="/messages/send" class="block px-4 py-2 hover:bg-blue-50">Injecter HL7/FHIR</a>
            <a href="/admin" class="block px-4 py-2 hover:bg-blue-50">Admin</a>
          </div>
        </div>
      </nav>
      <!-- Hamburger for mobile -->
      <div class="md:hidden">
        <button id="menu-btn" class="p-2 rounded hover:bg-slate-100 focus:outline-none" aria-label="Menu">
          <svg class="w-6 h-6 text-slate-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>
    <!-- Mobile menu, hidden by default -->
    <div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
      <div class="bg-white border border-slate-200 rounded shadow-lg py-2 mt-2">
        <a href="/" class="block px-4 py-2 hover:bg-blue-50 font-medium text-slate-700">Accueil</a>
        <div class="px-3 py-2 text-xs text-slate-500 uppercase tracking-wide mt-2">Données</div>
        <a href="/patients" class="block px-4 py-2 hover:bg-blue-50">Patients</a>
        <a href="/dossiers" class="block px-4 py-2 hover:bg-blue-50">Dossiers</a>
        <a href="/venues" class="block px-4 py-2 hover:bg-blue-50">Venues</a>
        <a href="/mouvements" class="block px-4 py-2 hover:bg-blue-50">Mouvements</a>
        <div class="px-3 py-2 text-xs text-slate-500 uppercase tracking-wide mt-2">Opérations</div>
  <a href="/endpoints" class="block px-4 py-2 hover:bg-blue-50">Systèmes</a>
  <a href="/messages" class="block px-4 py-2 hover:bg-blue-50">Messages</a>
  <a href="/messages/send" class="block px-4 py-2 hover:bg-blue-50">Injecter HL7/FHIR</a>
  <a href="/admin" class="block px-4 py-2 hover:bg-blue-50">Admin</a>
      </div>
    </div>
    <script>
      // Simple mobile menu toggle
      const btn = document.getElementById('menu-btn');
      const menu = document.getElementById('mobile-menu');
      if (btn && menu) {
        btn.addEventListener('click', () => {
          menu.classList.toggle('hidden');
        });
      }
    </script>
  </header>

  <main class="mx-auto max-w-content px-4 py-6">
    {% block content %}{% endblock %}
  </main>

  <footer class="mx-auto max-w-content px-4 py-6 text-xs text-slate-500">
    MedData Bridge • FastAPI + Tailwind
  </footer>
</body>
</html>
